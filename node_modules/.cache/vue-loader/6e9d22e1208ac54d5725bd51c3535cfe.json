{"remainingRequest":"E:\\article_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\article_vue\\src\\components\\user_info.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\article_vue\\src\\components\\user_info.vue","mtime":1618975111847},{"path":"E:\\article_vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\article_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\article_vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\article_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\article_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi51cGxvYWQtd3JhcHBlciB7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIHdpZHRoOiA3N3B4Ow0KICAgIGhlaWdodDogNzdweDsNCiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOw0KICAgIGJvcmRlcjogMDsNCiAgICBib3JkZXItcmFkaXVzOiA1MCU7DQogICAgbWFyZ2luOiAyMHB4IGF1dG87DQogICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2N5YW47DQp9DQouaW5wdXQgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB6LWluZGV4OiAxOw0KICAgIHRvcDogMDsNCiAgICBsZWZ0OiAwOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMTAwJTsNCiAgICBvcGFjaXR5OiAwOw0KICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLDAsMCwwKTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjaGFydHJldXNlOw0KfQ0KDQoNCg=="},{"version":3,"sources":["user_info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user_info.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"user_info\">\r\n        <div class=\"upload-wrapper\" :style=\"{backgroundImage: 'url(' + imgUrl + ')'}\">\r\n    <input @change=\"onChange\" class=\"input\" type=\"file\" accept=\"image/jpg,image/jpeg,image/png,image/gif\" multiple=\"\"/>\r\n    </div>\r\n\r\n        <div class=\"\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n        name:\"user_info\",\r\n        data() {\r\n            return {\r\n                destroyInput: false, // 是否销毁input元素, 解决在第二次和第一次选择的文件相同时不触发onchange事件的问题\r\n                isIos: isIos // 是否为ios设备\r\n            }\r\n        },\r\n        methods: {\r\n            onChange(e) {\r\n                // 监测input传入file文件\r\n                let files = e.target.files\r\n                let file = e.target.files[0]\r\n                if (files.length > 1) {\r\n                console.log('最多只能上传一张图片，请重新选择')\r\n                return false\r\n\r\n                }\r\n                if (['image/jpg','image/jpeg','image/png','image/gif'].indexOf(file.type)<0) {\r\n                    console.log('请上传图片')\r\n                    return false\r\n                }\r\n                if (file.size > 10*1024*1024) {\r\n                    console.log('请上传不超过10M的图片')\r\n                    return false\r\n                }\r\n                let url = ImageUtil.getObjectURL(file) \r\n                this.filename = file.name\r\n                this.destroyInput = true\r\n                setTimeout (\r\n                    () => {\r\n                        this.destroyInput = false\r\n                    },20\r\n                )\r\n                \r\n                const image = {}\r\n                image.getObjectURL = function(file) {\r\n                    //获取图片\r\n                    let URL =window.URL ||  window.webketURL || window.mozURL\r\n                    let url = URL.createObjectURL(file)\r\n                    return url\r\n                }\r\n                }\r\n            }\r\n        }\r\n</script>\r\n\r\n\r\n<style>\r\n.upload-wrapper {\r\n    position: relative;\r\n    width: 77px;\r\n    height: 77px;\r\n    background-size: cover;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    margin: 20px auto;\r\n    background-color: darkcyan;\r\n}\r\n.input {\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\r\n    background-color: chartreuse;\r\n}\r\n\r\n\r\n</style>"]}]}