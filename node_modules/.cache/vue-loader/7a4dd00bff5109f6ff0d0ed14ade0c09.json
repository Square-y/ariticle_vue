{"remainingRequest":"E:\\article_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\article_vue\\src\\components\\user_info.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\article_vue\\src\\components\\user_info.vue","mtime":1618975111847},{"path":"E:\\article_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\article_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\article_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\article_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgICAgIG5hbWU6InVzZXJfaW5mbyIsDQogICAgICAgIGRhdGEoKSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGRlc3Ryb3lJbnB1dDogZmFsc2UsIC8vIOaYr+WQpumUgOavgWlucHV05YWD57SgLCDop6PlhrPlnKjnrKzkuozmrKHlkoznrKzkuIDmrKHpgInmi6nnmoTmlofku7bnm7jlkIzml7bkuI3op6blj5FvbmNoYW5nZeS6i+S7tueahOmXrumimA0KICAgICAgICAgICAgICAgIGlzSW9zOiBpc0lvcyAvLyDmmK/lkKbkuLppb3Porr7lpIcNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbWV0aG9kczogew0KICAgICAgICAgICAgb25DaGFuZ2UoZSkgew0KICAgICAgICAgICAgICAgIC8vIOebkea1i2lucHV05Lyg5YWlZmlsZeaWh+S7tg0KICAgICAgICAgICAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzDQogICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXQ0KICAgICAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAxKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+acgOWkmuWPquiDveS4iuS8oOS4gOW8oOWbvueJh++8jOivt+mHjeaWsOmAieaLqScpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKFsnaW1hZ2UvanBnJywnaW1hZ2UvanBlZycsJ2ltYWdlL3BuZycsJ2ltYWdlL2dpZiddLmluZGV4T2YoZmlsZS50eXBlKTwwKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fkuIrkvKDlm77niYcnKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGZpbGUuc2l6ZSA+IDEwKjEwMjQqMTAyNCkgew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35LiK5Lyg5LiN6LaF6L+HMTBN55qE5Zu+54mHJykNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxldCB1cmwgPSBJbWFnZVV0aWwuZ2V0T2JqZWN0VVJMKGZpbGUpIA0KICAgICAgICAgICAgICAgIHRoaXMuZmlsZW5hbWUgPSBmaWxlLm5hbWUNCiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lJbnB1dCA9IHRydWUNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0ICgNCiAgICAgICAgICAgICAgICAgICAgKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95SW5wdXQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9LDIwDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0ge30NCiAgICAgICAgICAgICAgICBpbWFnZS5nZXRPYmplY3RVUkwgPSBmdW5jdGlvbihmaWxlKSB7DQogICAgICAgICAgICAgICAgICAgIC8v6I635Y+W5Zu+54mHDQogICAgICAgICAgICAgICAgICAgIGxldCBVUkwgPXdpbmRvdy5VUkwgfHwgIHdpbmRvdy53ZWJrZXRVUkwgfHwgd2luZG93Lm1velVSTA0KICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0K"},{"version":3,"sources":["user_info.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user_info.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div id=\"user_info\">\r\n        <div class=\"upload-wrapper\" :style=\"{backgroundImage: 'url(' + imgUrl + ')'}\">\r\n    <input @change=\"onChange\" class=\"input\" type=\"file\" accept=\"image/jpg,image/jpeg,image/png,image/gif\" multiple=\"\"/>\r\n    </div>\r\n\r\n        <div class=\"\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n        name:\"user_info\",\r\n        data() {\r\n            return {\r\n                destroyInput: false, // 是否销毁input元素, 解决在第二次和第一次选择的文件相同时不触发onchange事件的问题\r\n                isIos: isIos // 是否为ios设备\r\n            }\r\n        },\r\n        methods: {\r\n            onChange(e) {\r\n                // 监测input传入file文件\r\n                let files = e.target.files\r\n                let file = e.target.files[0]\r\n                if (files.length > 1) {\r\n                console.log('最多只能上传一张图片，请重新选择')\r\n                return false\r\n\r\n                }\r\n                if (['image/jpg','image/jpeg','image/png','image/gif'].indexOf(file.type)<0) {\r\n                    console.log('请上传图片')\r\n                    return false\r\n                }\r\n                if (file.size > 10*1024*1024) {\r\n                    console.log('请上传不超过10M的图片')\r\n                    return false\r\n                }\r\n                let url = ImageUtil.getObjectURL(file) \r\n                this.filename = file.name\r\n                this.destroyInput = true\r\n                setTimeout (\r\n                    () => {\r\n                        this.destroyInput = false\r\n                    },20\r\n                )\r\n                \r\n                const image = {}\r\n                image.getObjectURL = function(file) {\r\n                    //获取图片\r\n                    let URL =window.URL ||  window.webketURL || window.mozURL\r\n                    let url = URL.createObjectURL(file)\r\n                    return url\r\n                }\r\n                }\r\n            }\r\n        }\r\n</script>\r\n\r\n\r\n<style>\r\n.upload-wrapper {\r\n    position: relative;\r\n    width: 77px;\r\n    height: 77px;\r\n    background-size: cover;\r\n    border: 0;\r\n    border-radius: 50%;\r\n    margin: 20px auto;\r\n    background-color: darkcyan;\r\n}\r\n.input {\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\r\n    background-color: chartreuse;\r\n}\r\n\r\n\r\n</style>"]}]}